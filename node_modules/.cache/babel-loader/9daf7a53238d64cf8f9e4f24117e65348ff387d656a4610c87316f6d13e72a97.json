{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Link}from'react-router-dom';import SpellList from'./components/SpellList';import SpellDetail from'./components/SpellDetail';import SpellForm from'./components/SpellForm';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[spells,setSpells]=useState([]);const[filteredSpells,setFilteredSpells]=useState([]);useEffect(()=>{fetch('/api/spells').then(res=>res.json()).then(data=>{setSpells(data);setFilteredSpells(data);}).catch(err=>console.error(\"Failed to fetch spells:\",err));},[]);const handleFilterChange=filters=>{let tempSpells=[...spells];if(filters.name){tempSpells=tempSpells.filter(spell=>spell.name.toLowerCase().includes(filters.name.toLowerCase()));}if(filters.levels.length>0){tempSpells=tempSpells.filter(spell=>filters.levels.includes(spell.level.toString()));}if(filters.traditions.length>0){tempSpells=tempSpells.filter(spell=>spell.traditions.some(tradition=>filters.traditions.includes(tradition)));}setFilteredSpells(tempSpells);};const handleSpellAdded=newSpell=>{const updatedSpells=[...spells,newSpell];setSpells(updatedSpells);setFilteredSpells(updatedSpells);// Or re-apply filters\n};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'white',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Spell Book\"})})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(SpellList,{spells:filteredSpells,onFilterChange:handleFilterChange}),/*#__PURE__*/_jsx(Link,{to:\"/add-spell\",className:\"add-spell-button\",children:\"+\"})]})}),/*#__PURE__*/_jsx(Route,{path:\"/spells/:id\",element:/*#__PURE__*/_jsx(SpellDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-spell\",element:/*#__PURE__*/_jsx(SpellForm,{onSpellAdded:handleSpellAdded})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","SpellList","SpellDetail","SpellForm","jsx","_jsx","jsxs","_jsxs","App","spells","setSpells","filteredSpells","setFilteredSpells","fetch","then","res","json","data","catch","err","console","error","handleFilterChange","filters","tempSpells","name","filter","spell","toLowerCase","includes","levels","length","level","toString","traditions","some","tradition","handleSpellAdded","newSpell","updatedSpells","children","className","to","style","color","textDecoration","path","element","onFilterChange","onSpellAdded"],"sources":["/home/m-bohach/Документи/SpellBook/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\n\nimport SpellList from './components/SpellList';\nimport SpellDetail from './components/SpellDetail';\nimport SpellForm from './components/SpellForm';\nimport './App.css';\n\nfunction App() {\n  const [spells, setSpells] = useState([]);\n  const [filteredSpells, setFilteredSpells] = useState([]);\n\n  useEffect(() => {\n    fetch('/api/spells')\n      .then(res => res.json())\n      .then(data => {\n        setSpells(data);\n        setFilteredSpells(data);\n      })\n      .catch(err => console.error(\"Failed to fetch spells:\", err));\n  }, []);\n\n  const handleFilterChange = (filters) => {\n    let tempSpells = [...spells];\n    if (filters.name) {\n      tempSpells = tempSpells.filter(spell => spell.name.toLowerCase().includes(filters.name.toLowerCase()));\n    }\n    if (filters.levels.length > 0) {\n      tempSpells = tempSpells.filter(spell => filters.levels.includes(spell.level.toString()));\n    }\n    if (filters.traditions.length > 0) {\n        tempSpells = tempSpells.filter(spell => \n            spell.traditions.some(tradition => filters.traditions.includes(tradition))\n        );\n    }\n    setFilteredSpells(tempSpells);\n  };\n\n  const handleSpellAdded = (newSpell) => {\n    const updatedSpells = [...spells, newSpell];\n    setSpells(updatedSpells);\n    setFilteredSpells(updatedSpells); // Or re-apply filters\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n            <h1>Spell Book</h1>\n          </Link>\n        </header>\n        <Routes>\n          <Route path=\"/\" element={\n            <main>\n              <SpellList \n                spells={filteredSpells} \n                onFilterChange={handleFilterChange}\n              />\n              <Link to=\"/add-spell\" className=\"add-spell-button\">+</Link>\n            </main>\n          } />\n          <Route path=\"/spells/:id\" element={<SpellDetail />} />\n          <Route path=\"/add-spell\" element={<SpellForm onSpellAdded={handleSpellAdded} />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}