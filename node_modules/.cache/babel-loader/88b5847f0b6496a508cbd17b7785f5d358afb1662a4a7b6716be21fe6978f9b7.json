{"ast":null,"code":"import _objectSpread from\"/home/m-bohach/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438/SpellBook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo,useEffect}from'react';import SpellCard from'./SpellCard';import spellConfig from'../config/spellConfig.json';import'./SpellList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SpellList=_ref=>{let{spells}=_ref;const[filters,setFilters]=useState({name:'',level:'',traditions:[],concentration:false,ritual:false});const[isFiltersVisible,setIsFiltersVisible]=useState(window.innerWidth>=768);useEffect(()=>{const handleResize=()=>{if(window.innerWidth<768){setIsFiltersVisible(false);}else{setIsFiltersVisible(true);}};window.addEventListener('resize',handleResize);// Set initial state based on screen size\nhandleResize();return()=>window.removeEventListener('resize',handleResize);},[]);const filteredSpells=useMemo(()=>{return spells.filter(spell=>{// Filter by name\nif(filters.name&&!spell.name.toLowerCase().includes(filters.name.toLowerCase())){return false;}// Filter by level\nif(filters.level!==''&&spell.level!==parseInt(filters.level)){return false;}// Filter by traditions\nif(filters.traditions.length>0&&!filters.traditions.some(t=>spell.traditions.includes(t))){return false;}// Filter by concentration\nif(filters.concentration&&!spell.concentration){return false;}// Filter by ritual\nif(filters.ritual&&!spell.ritual){return false;}return true;});},[spells,filters]);const handleTraditionChange=tradition=>{setFilters(prev=>{const newTraditions=prev.traditions.includes(tradition)?prev.traditions.filter(t=>t!==tradition):[...prev.traditions,tradition];return _objectSpread(_objectSpread({},prev),{},{traditions:newTraditions});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"spell-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters \".concat(isFiltersVisible?'visible':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters-header\",onClick:()=>setIsFiltersVisible(!isFiltersVisible),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0424\\u0456\\u043B\\u044C\\u0442\\u0440\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-filters-btn\",children:isFiltersVisible?'Згорнути':'Розгорнути'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041F\\u043E\\u0448\\u0443\\u043A \\u0437\\u0430 \\u043D\\u0430\\u0437\\u0432\\u043E\\u044E...\",value:filters.name,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"name-filter\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:filters.level,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{level:e.target.value})),className:\"level-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u0441\\u0456 \\u0440\\u0456\\u0432\\u043D\\u0456\"}),[...Array(spellConfig.spellLevels.max+1)].map((_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i,children:i},i))]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group traditions\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0410\\u0440\\u043A\\u0430\\u043D\\u0456\\u0447\\u043D\\u0456 \\u043C\\u0438\\u0441\\u0442\\u0435\\u0446\\u0442\\u0432\\u0430:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"traditions-list\",children:spellConfig.traditions.map(tradition=>/*#__PURE__*/_jsxs(\"label\",{className:\"tradition-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filters.traditions.includes(tradition),onChange:()=>handleTraditionChange(tradition)}),/*#__PURE__*/_jsx(\"span\",{children:tradition})]},tradition))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group flags\",children:spellConfig.flags.map(flag=>/*#__PURE__*/_jsxs(\"label\",{className:\"flag-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filters[flag.name],onChange:()=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[flag.name]:!prev[flag.name]}))}),/*#__PURE__*/_jsx(\"span\",{children:flag.label})]},flag.name))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"spell-list\",children:filteredSpells.map(spell=>/*#__PURE__*/_jsx(SpellCard,{spell:spell},spell.id))})]});};export default SpellList;","map":{"version":3,"names":["React","useState","useMemo","useEffect","SpellCard","spellConfig","jsx","_jsx","jsxs","_jsxs","SpellList","_ref","spells","filters","setFilters","name","level","traditions","concentration","ritual","isFiltersVisible","setIsFiltersVisible","window","innerWidth","handleResize","addEventListener","removeEventListener","filteredSpells","filter","spell","toLowerCase","includes","parseInt","length","some","t","handleTraditionChange","tradition","prev","newTraditions","_objectSpread","className","children","concat","onClick","type","placeholder","value","onChange","e","target","Array","spellLevels","max","map","_","i","checked","flags","flag","label","id"],"sources":["/home/m-bohach/Документи/SpellBook/src/components/SpellList.js"],"sourcesContent":["\nimport React, { useState, useMemo, useEffect } from 'react';\nimport SpellCard from './SpellCard';\nimport spellConfig from '../config/spellConfig.json';\nimport './SpellList.css';\n\nconst SpellList = ({ spells }) => {\n  const [filters, setFilters] = useState({\n    name: '',\n    level: '',\n    traditions: [],\n    concentration: false,\n    ritual: false\n  });\n\n  const [isFiltersVisible, setIsFiltersVisible] = useState(window.innerWidth >= 768);\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth < 768) {\n        setIsFiltersVisible(false);\n      } else {\n        setIsFiltersVisible(true);\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    // Set initial state based on screen size\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const filteredSpells = useMemo(() => {\n    return spells.filter(spell => {\n      // Filter by name\n      if (filters.name && !spell.name.toLowerCase().includes(filters.name.toLowerCase())) {\n        return false;\n      }\n\n      // Filter by level\n      if (filters.level !== '' && spell.level !== parseInt(filters.level)) {\n        return false;\n      }\n\n      // Filter by traditions\n      if (filters.traditions.length > 0 && !filters.traditions.some(t => spell.traditions.includes(t))) {\n        return false;\n      }\n\n      // Filter by concentration\n      if (filters.concentration && !spell.concentration) {\n        return false;\n      }\n\n      // Filter by ritual\n      if (filters.ritual && !spell.ritual) {\n        return false;\n      }\n\n      return true;\n    });\n  }, [spells, filters]);\n\n  const handleTraditionChange = (tradition) => {\n    setFilters(prev => {\n      const newTraditions = prev.traditions.includes(tradition)\n        ? prev.traditions.filter(t => t !== tradition)\n        : [...prev.traditions, tradition];\n      return { ...prev, traditions: newTraditions };\n    });\n  };\n\n  return (\n    <div className=\"spell-list-container\">\n      <div className={`filters ${isFiltersVisible ? 'visible' : ''}`}>\n        <div className=\"filters-header\" onClick={() => setIsFiltersVisible(!isFiltersVisible)}>\n          <h3>Фільтри</h3>\n          <button className=\"toggle-filters-btn\">\n            {isFiltersVisible ? 'Згорнути' : 'Розгорнути'}\n          </button>\n        </div>\n        <div className=\"filters-content\">\n          <div className=\"filter-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Пошук за назвою...\"\n              value={filters.name}\n              onChange={(e) => setFilters(prev => ({ ...prev, name: e.target.value }))}\n              className=\"name-filter\"\n            />\n          </div>\n\n          <div className=\"filter-group\">\n            <select\n              value={filters.level}\n              onChange={(e) => setFilters(prev => ({ ...prev, level: e.target.value }))}\n              className=\"level-filter\"\n            >\n              <option value=\"\">Всі рівні</option>\n              {[...Array(spellConfig.spellLevels.max + 1)].map((_, i) => (\n                <option key={i} value={i}>{i}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"filter-group traditions\">\n            <label>Арканічні мистецтва:</label>\n            <div className=\"traditions-list\">\n              {spellConfig.traditions.map(tradition => (\n                <label key={tradition} className=\"tradition-checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    checked={filters.traditions.includes(tradition)}\n                    onChange={() => handleTraditionChange(tradition)}\n                  />\n                  <span>{tradition}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"filter-group flags\">\n            {spellConfig.flags.map(flag => (\n              <label key={flag.name} className=\"flag-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  checked={filters[flag.name]}\n                  onChange={() => setFilters(prev => ({ ...prev, [flag.name]: !prev[flag.name] }))}\n                />\n                <span>{flag.label}</span>\n              </label>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"spell-list\">\n        {filteredSpells.map(spell => (\n          <SpellCard key={spell.id} spell={spell} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SpellList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}